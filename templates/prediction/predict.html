{% extends 'prediction/base.html' %}
{% load static %}

{% block title %}Predict - Emergency Prediction System{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'prediction/css/predict.css' %}">
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12 text-center mb-4">
        <h1 class="fw-bold text-primary">Emergency Prediction</h1>
        <p class="lead">Enter environmental data to predict potential emergencies</p>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card shadow">
            <div class="card-header bg-primary text-white">
                <h5 class="card-title mb-0"><i class="fas fa-sliders-h me-2"></i>Prediction Parameters</h5>
            </div>
            <div class="card-body">
                <form id="predictionForm">
                    {% csrf_token %}
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="temperature" class="form-label">Temperature (Â°C)</label>
                            <input type="number" class="form-control" id="temperature" value="25" step="0.1" required>
                            <div class="form-text">Current temperature in Celsius</div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="humidity" class="form-label">Humidity (%)</label>
                            <input type="number" class="form-control" id="humidity" value="50" step="0.1" required>
                            <div class="form-text">Relative humidity percentage</div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="air_quality" class="form-label">Air Quality Index</label>
                            <input type="number" class="form-control" id="air_quality" value="50" step="0.1" required>
                            <div class="form-text">Air quality measurement (0-100)</div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="wind_speed" class="form-label">Wind Speed (km/h)</label>
                            <input type="number" class="form-control" id="wind_speed" value="5" step="0.1" required>
                            <div class="form-text">Wind speed in kilometers per hour</div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="precipitation" class="form-label">Precipitation (mm)</label>
                            <input type="number" class="form-control" id="precipitation" value="2" step="0.1" required>
                            <div class="form-text">Precipitation in millimeters</div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="population_density" class="form-label">Population Density</label>
                            <input type="number" class="form-control" id="population_density" value="500" step="1" required>
                            <div class="form-text">People per square kilometer</div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="building_density" class="form-label">Building Density</label>
                            <input type="number" class="form-control" id="building_density" value="0.5" step="0.01" min="0" max="1" required>
                            <div class="form-text">Building density ratio (0-1)</div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="hour_of_day" class="form-label">Hour of Day</label>
                            <input type="number" class="form-control" id="hour_of_day" value="12" min="0" max="23" required>
                            <div class="form-text">Current hour (0-23)</div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="day_of_week" class="form-label">Day of Week</label>
                            <select class="form-select" id="day_of_week" required>
                                <option value="0">Monday</option>
                                <option value="1">Tuesday</option>
                                <option value="2">Wednesday</option>
                                <option value="3">Thursday</option>
                                <option value="4">Friday</option>
                                <option value="5">Saturday</option>
                                <option value="6">Sunday</option>
                            </select>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="is_holiday" class="form-label">Holiday</label>
                            <select class="form-select" id="is_holiday" required>
                                <option value="false">No</option>
                                <option value="true">Yes</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="latitude" class="form-label">Latitude (Optional)</label>
                            <input type="number" class="form-control" id="latitude" step="0.000001">
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <label for="longitude" class="form-label">Longitude (Optional)</label>
                            <input type="number" class="form-control" id="longitude" step="0.000001">
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label for="location_name" class="form-label">Location Name (Optional)</label>
                        <input type="text" class="form-control" id="location_name" placeholder="Enter location name">
                    </div>
                    
                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="fas fa-bolt me-2"></i>Predict Emergency
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Results will be displayed here -->
<div id="predictionResult" class="mt-4" style="display: none;"></div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'prediction/js/predict.js' %}"></script>
{% endblock %}